\documentclass[a4paper]{article}

%% Language and font encodings
\usepackage[english]{babel}
\usepackage[utf8x]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[normalem]{ulem}
\usepackage{xcolor}

\usepackage[table,xcdraw]{xcolor}

%% Sets page size and margins
\usepackage[a4paper,top=3cm,bottom=2cm,left=1cm,right=1cm,marginparwidth=1.5cm]{geometry}

%% Useful packages
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage[colorinlistoftodos]{todonotes}
\usepackage[colorlinks=true, allcolors=blue]{hyperref}

\title{Assignment 7}
\author{Adam Karl}

\begin{document}
\maketitle

\section{Assignment 7}
\subsection{Conceptual Schema}
\begin{itemize}
    \item \textcolor{green}{MyAuction} facilitates  the  operations  for  an  electronic  auctioning  system
    \item For each \textcolor{blue}{registered user}, \textbf{\underline{ record his/her name, address, email, a unique login-name and password}} 
    \item For  each  \textcolor{blue}{product}  \textcolor{red}{put  for  auction},  record  its  \textbf{\underline{name,  an  (optional)  description,  one  or several  \textcolor{blue}{categories} that it belongs to (e.g., ‘books-and-records’, ‘software’, ‘automobiles’,‘appliances’, etc)}}.  Each product should have a unique \textbf{\underline{auction-id}}
    \item Keep track of information about a \textcolor{blue}{product} for auction such as \textbf{\underline{who is selling it, the minimum acceptable valid price, auction starting date and its status (i.e., ‘under auction’,‘sold’, ‘withdrawn’)}}
    \item Keep track of every \textcolor{blue}{bid} \textcolor{red}{made} by \textcolor{blue}{registered users}, such as the \textbf{\underline{bidder’s name, the date when the bid was made, and the valid amount of the bid, etc.}}
    \item If a product was \textcolor{red}{sold} successfully, we want to know \textbf{\underline{who bought the product with what bidding price, and when it was sold}}
    \item For each product \textcolor{blue}{category}, record its \textbf{\underline{(unique) name}}.  We want to organize the categories into a hierarchical structure such that one category can contain 0 to 10 subcategories.
\end{itemize}

\noindent
Entities:
\begin{itemize}
    \item Users (name, address, email, \underline{login-name}, password)
    \item Product (name, description, categories, \underline{auction-id})
    \item Auction (seller, min-valid-price, start-date, status, \underline{auction-id})
    \item Categories (cat-group) - weak entity
    \item Bid (\underline{auction-id, buyer, price}, date)
\end{itemize}

\noindent
Relationships:
\begin{itemize}
    \item Put up for Auction <Registered\_Users, Product> 1:N PARTIAL/TOTAL
    \item Place bid <Registered\_Users, Product> N:1 PARTIAL/PARTIAL
    \item Sold to <Product, Registered\_Users> N:1 PARTIAL/PARTIAL, date, price
    \item Organized <supercategory-Category, subcategory-Category> 1:(0-10) PARTIAL/PARTIAL;
\end{itemize}

\noindent
Assumptions
\begin{itemize}
    \item A user can bid on an item more than once per day, but cannot bid the same price on the same product more than once
\end{itemize}

\subsection{Relational Schema}

\begin{itemize}
    \item Registered\_Users (name, address, email, \underline{login-name}, password)
    \item Product (name, description, categories, \underline{auction-id}, seller, min-valid-price, start-date, status)
    \begin{itemize}
        \item FK (seller) $\rightarrow$ Registered\_Users (login-id)
        \item FK (categories) $\rightarrow$ Categories(c-name)
        \item Check(status = 'under auction' or 'sold' or 'withdrawn')
        \item Check(min-valid-price > 0)
        \item Check(name is not null)
    \end{itemize}
    \item Categories(\underline{c-name})
    \item Bid (\underline{auction-id, buyer, price}, date)
    \begin{itemize}
        \item FK (auction-id) $\rightarrow$ Product (auction-id)
        \item FK (buyer) $\rightarrow$ Registered\_Users (login-name)
        \item Check (price > min-valid-price of product)
    \end{itemize}
\end{itemize}

\end{document}
